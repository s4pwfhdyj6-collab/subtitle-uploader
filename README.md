# 똑똑한 자막 등록기

[WECANDEO 비디오 플랫폼](https://www.wecandeo.com)에 자막 파일을 쉽고 빠르게 업로드할 수 있는 웹 애플리케이션입니다.

## 주요 기능

### 1. 파일 업로드
- 드래그 앤 드롭 또는 파일 선택을 통한 직관적인 업로드
- 다중 파일 동시 업로드 지원
- SRT, VTT 형식 지원

### 2. 자동 포맷 변환
- SRT 파일을 VTT 포맷으로 자동 변환
- Transloadit API를 활용한 안정적인 변환 처리

### 3. 스마트 언어 감지
- 파일명에서 언어 코드 자동 감지
- 자동완성 기능이 있는 언어 선택 UI
- 로컬스토리지 캐싱으로 빠른 로딩 (24시간)

### 4. 영상 매칭
- 파일명 기반 영상 자동 검색
- 문자열 유사도 알고리즘(Levenshtein distance)을 통한 정확한 매칭
- 동일 제목 파일의 경우 accessKey 재사용으로 효율적 처리

### 5. 실시간 진행 상태
- 각 파일별 상태 추적 (대기, 처리중, 완료, 실패)
- 상세 로그 기록 및 표시
- 전체 진행률 표시

## 사용 방법

### 1. API Key 입력
- Wecandeo API Key를 입력합니다
- 폴더 조회 버튼을 클릭하여 사용 가능한 폴더 목록을 불러옵니다

### 2. 폴더 선택
- 드롭다운에서 자막을 업로드할 폴더를 선택합니다

### 3. 파일 추가
- 드래그 앤 드롭 영역에 파일을 끌어다 놓거나
- 파일 선택 버튼을 클릭하여 파일을 선택합니다

### 4. 언어 확인
- 자동 감지된 언어를 확인하거나 직접 선택합니다
- 자동완성 기능을 활용하여 빠르게 입력할 수 있습니다

### 5. 업로드
- 업로드 시작 버튼을 클릭합니다
- 각 파일의 진행 상태를 실시간으로 확인할 수 있습니다
- 상태 배지를 클릭하면 상세 로그를 확인할 수 있습니다

## 파일 명명 규칙

효과적인 자동 매칭 및 언어 감지를 위해 다음 형식을 권장합니다:

```
영상제목_언어코드.확장자
```

예시:
- `intro_video_ko.srt` - 한국어 자막
- `intro_video_en.srt` - 영어 자막
- `tutorial_01_ja.vtt` - 일본어 자막

언더스코어(`_`)로 구분된 마지막 부분이 언어 코드로 인식되며, 나머지 부분이 영상 제목으로 사용됩니다.

## 기술 스택

### 프론트엔드
- HTML5
- CSS3 (Bootstrap 5.3.2)
- Vanilla JavaScript (ES6+)

### 외부 API
- [Wecandeo Video Platform API](https://support.wecandeo.com/v4.0)
  - 폴더 및 영상 정보 조회
  - 언어 코드 목록 조회
  - 자막 업로드
- Transloadit API
  - SRT to VTT 파일 변환

### 주요 라이브러리
- Bootstrap 5.3.2 (UI Framework)
- Bootstrap Icons 1.11.1

## 프로젝트 구조

```
subtitle-uploader/
├── index.html          # 메인 HTML 파일
├── css/
│   └── style.css       # 커스텀 스타일시트
├── script/
│   └── app.js          # 애플리케이션 로직
└── README.md           # 프로젝트 문서
```

## 주요 기능 구현

### 언어 코드 캐싱
- 로컬스토리지를 활용하여 24시간 동안 언어 코드 목록 캐싱
- API 호출 최소화로 빠른 로딩 속도 제공

### 파일명 기반 언어 감지
- 파일명의 마지막 언더스코어 이후 부분을 언어 코드로 인식
- API에서 제공하는 언어 코드 목록과 자동 매칭

### 영상 검색 최적화
- UTF-8 인코딩을 통한 정확한 한글 검색
- Levenshtein distance 알고리즘으로 가장 유사한 영상 매칭
- 동일 제목 연속 파일의 경우 accessKey 재사용

### SRT to VTT 변환
- Transloadit API를 통한 안정적인 변환
- 비동기 처리로 사용자 경험 개선
- 변환 상태 폴링으로 실시간 진행 상황 제공

### 실시간 로깅
- 각 업로드 단계별 로그 기록
- 시간 스탬프와 함께 상세 정보 제공
- 오류 발생 시 명확한 오류 메시지 표시

## 브라우저 호환성

- Chrome (권장)
- Firefox
- Safari
- Edge

최신 버전의 모던 브라우저에서 최적의 성능을 발휘합니다.

## 개발 이력

- 2025-11 파일명에서 마지막 부분을 항상 제외하도록 개선
- 2025-11 SRT 변환 API를 Transloadit으로 변경
- 2025-11 포맷 제한 및 SRT 변환 로직 추가
- 2025-11 업로드 진행 상태 표시 및 로그 기록 기능 추가
- 2025-11 색상 톤 변경 및 UI 개선
- 2025-11 언어 감지, 자동완성 및 자막 업로드 기능 구현
- 2025-11 API Key 입력, 폴더 조회 기능 및 토스트 알림 추가
- 2025-11 초기 버전 릴리스

## 라이선스

이 프로젝트는 개인 프로젝트입니다.

## 문의

문제가 발생하거나 개선 사항이 있다면 이슈를 등록해 주세요.
